!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";t.__esModule=!0,new(i(1).default)},function(e,t,i){"use strict";t.__esModule=!0;var n=i(2),s=i(3),r=i(4),o=function(){function e(){var e=this;this.playerBoard=document.querySelector("#playerBoard"),this.enemyBoard=document.querySelector("#enemyBoard"),this.fleetGarage=document.querySelector("#shipGarage"),this.shipNameInput=document.querySelector("#shipNameInput"),this.foreCoordinatesInput=document.querySelector("#foreCoordinatesInput"),this.directionInput=document.querySelector("#directionInput"),this.setShipsBtn=document.querySelector("#setBtn"),this.playerShipFleet=[],this.enemyShipFleet=[],this.playerBattleField=[],this.enemyBattleField=[],this.player="player",this.enemy="enemy",this.currentTurn="none",this.gameStatus="preparation",this.playerBoardBin=this.createArrayWithO(),this.createBoard(this.playerBoard,this.playerBattleField,this.player),this.createBoard(this.enemyBoard,this.enemyBattleField,this.enemy),this.setShipsBtn.addEventListener("click",(function(){return e.setShipOnBoard(e.shipNameInput.value,e.foreCoordinatesInput.value,e.directionInput.value,e.playerBattleField,e.playerShipFleet)})),this.enemyBoard.addEventListener("click",(function(){return e.playerShoot(event,e.enemyBattleField,e.enemyShipFleet)}))}return e.prototype.setShipOnBoard=function(e,t,i,n,o){if(o.length<5&&"preparation"==this.gameStatus)if(o.find((function(t){return t.name===e})))console.log(e+" already exist");else if(Object.values(r.shipTypes).includes(e))if(Object.values(r.directionTypes).includes(i)){var a=e,u=a.slice(1,2),l=t,p=l.slice(0,1),h=l.slice(1,2),d=i;if(0===this.playerBoardBin[parseInt(p)][parseInt(h)]){var f=new s.default(p,h,a,d),c=n.find((function(e){return e.id===l}));c.partOfShip(),f.shipFields.push(c),this.playerBoardBin[parseInt(p)][parseInt(h)]=1;for(var y=1;y<u;y++){if("D"==d){var m=parseInt(p)+y,S=n.find((function(e){return e.id===""+m+h}));this.playerBoardBin[m][parseInt(h)]=1}else if("R"==d){var v=parseInt(h)+y;S=n.find((function(e){return e.id===""+p+v}));this.playerBoardBin[parseInt(p)][v]=1}S.partOfShip(),f.shipFields.push(S)}this.playerShipFleet.push(f),5==o.length&&(this.setEnemyShips(this.enemyShipFleet,this.enemyBattleField),this.gameStatus="war",this.currentTurn="player"),console.log(f)}else console.log("There is ship")}else console.log("Wrong direction");else console.log(e+" - wrong name")},e.prototype.setEnemyShips=function(e,t){var i=this.randomSetUpEnemyShips();t.forEach((function(n){var r=parseInt(n.id.substring(0,1)),o=parseInt(n.id.substring(1,2));if(1===i[r][o]){var a="",u=e.find((function(e){return"s1"===e.name})),l=t.find((function(e){return e.id===""+r+o}));if(u)l.partOfShip("s1"),u.shipFields.push(l);else{a=1===i[r][o+1]?"R":"D";var p=new s.default(r,o,"s1",a);l.partOfShip("s1"),p.shipFields.push(l),e.push(p)}}else if(2===i[r][o]){a="",u=e.find((function(e){return"s2"===e.name})),l=t.find((function(e){return e.id===""+r+o}));if(u)l.partOfShip("s2"),u.shipFields.push(l);else{a=2===i[r][o+1]?"R":"D";p=new s.default(r,o,"s2",a);l.partOfShip("s2"),p.shipFields.push(l),e.push(p)}}else if(3===i[r][o]){a="",u=e.find((function(e){return"s3"===e.name})),l=t.find((function(e){return e.id===""+r+o}));if(u)l.partOfShip("s3"),u.shipFields.push(l);else{a=3===i[r][o+1]?"R":"D";p=new s.default(r,o,"s3",a);l.partOfShip("s3"),p.shipFields.push(l),e.push(p)}}else if(4===i[r][o]){a="",u=e.find((function(e){return"s4"===e.name})),l=t.find((function(e){return e.id===""+r+o}));if(u)l.partOfShip("s4"),u.shipFields.push(l);else{a=4===i[r][o+1]?"R":"D";p=new s.default(r,o,"s4",a);l.partOfShip("s4"),p.shipFields.push(l),e.push(p)}}else if(5===i[r][o]){a="",u=e.find((function(e){return"s5"===e.name})),l=t.find((function(e){return e.id===""+r+o}));if(u)l.partOfShip("s5"),u.shipFields.push(l);else{a=5===i[r][o+1]?"R":"D";p=new s.default(r,o,"s5",a);l.partOfShip("s5"),p.shipFields.push(l),e.push(p)}}}))},e.prototype.playerShoot=function(e,t,i){if("war"==this.gameStatus&&"player"==this.currentTurn){var n=e.target.id.substring(5,7),s=t.find((function(e){return e.id===n}));if(1==s.isHit)console.log("You shoted this field");else if(s.takeHit(),1==s.isShipPart){var r=i.find((function(e){return e.name===s.partOfWhatShip}));if(console.log("You hit ship"),1==r.isItSunked()){console.log("You destoryed "+r.name),r.isSunked();var o=i.indexOf(r);i.splice(o,1),this.isGameEnd()}}else console.log("You missed"),this.currentTurn="enemy",this.enemyShoot(this.playerShipFleet,this.playerBattleField)}},e.prototype.enemyShoot=function(e,t){if("war"==this.gameStatus)for(var i,n=function(){var n=t[Math.floor(Math.random()*s.playerBattleField.length)];if(1==n.isHit);else if(n.takeHit(),1==n.isShipPart){i=e.find((function(e){return e.name===n.partOfWhatShip})),console.log("Enemy hit your ship"),console.log(i.isItSunked());for(var r=function(){var r=["D","R","L","U"][Math.floor(3*Math.random())],o=n.x,a=n.y;switch(r){case"D":9!=n.x&&(o=n.x+1);break;case"R":9!=n.y&&(a=n.y+1);break;case"L":0!=n.y&&(a=n.y-1);break;case"U":0!=n.x&&(o=n.x-1)}var u=t.find((function(e){return e.id===""+o+a}));if(u.takeHit(),u=n,1!=n.isShipPart)return console.log("Enemy missed"),s.currentTurn="player","break";i=e.find((function(e){return e.name===n.partOfWhatShip})),console.log("Enemy hit ship")};1!=i.isItSunked();){if("break"===r())break}if(1==i.isItSunked()){console.log("Enemy destoryed "+i.name),i.isSunked();var o=e.indexOf(i);e.splice(o,1),s.isGameEnd()}}else console.log("Enemy missed"),s.currentTurn="player"},s=this;"enemy"==this.currentTurn;)n()},e.prototype.isGameEnd=function(){"player"==this.currentTurn?0==this.enemyShipFleet.length&&(console.log("PLAYER WON"),this.gameStatus="end",window.location.reload(!0)):"enemy"==this.currentTurn&&0==this.playerShipFleet.length&&(console.log("ENEMY WON"),this.gameStatus="end",window.location.reload(!0))},e.prototype.createBoard=function(e,t,i){for(var s=0;s<10;s++)for(var r=0;r<10;r++){var o=document.createElement("div"),a=new n.default(s,r,o);o.classList.add("singleField");var u=50*s,l=50*r;o.id=""+i+s+r,o.style.top=u+"px",o.style.left=l+"px",e.appendChild(o),t.push(a)}console.log(t)},e.prototype.createArrayWithO=function(){return[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]},e.prototype.randomSetUpEnemyShips=function(){var e;switch(Math.floor(3*Math.random())+1){case 1:e=[[0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,2,0],[0,3,3,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,5,0,0,4,4,4,4,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0]];break;case 2:e=[[0,0,0,0,2,2,0,0,3,0],[0,0,0,0,0,0,0,0,3,0],[0,0,0,1,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,4,4,4,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,5,5,5,5,5,0,0,0,0]];break;case 3:e=[[0,0,0,0,0,0,0,0,0,0],[0,0,3,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,0,0,0,0],[4,4,4,4,0,5,0,0,0,0],[0,0,0,0,0,5,0,0,0,0],[0,0,0,0,0,5,0,0,2,0],[0,0,0,0,0,5,0,0,2,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0]]}return e},e.prototype.showInstruction=function(){console.log("                            INSTRUCTION \n\n                    1.Set your 5 ships on board \n\n                    2.Start shooting and have fun :)")},e}();t.default=o},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(e,t,i){this.x=e,this.y=t,this.isHit=!1,this.isShipPart=!1,this.id=""+e+t,this.body=i,this.partOfWhatShip="none"}return e.prototype.partOfShip=function(e){this.isShipPart=!0,this.body.classList.add("ship"),this.partOfWhatShip=e},e.prototype.takeHit=function(){this.isHit=!0,1==this.isShipPart?(this.body.classList.remove("ship"),this.body.classList.add("hit")):this.body.classList.add("missed")},e}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(e,t,i,n){this.startX=e,this.startY=t,this.name=i,this.direction=n,this.shipFields=[],this.isSunk=!1}return e.prototype.isSunked=function(){this.isSunk=!0,this.shipFields.forEach((function(e){e.body.classList.add("destroyed")}))},e.prototype.isItSunked=function(){var e=[];return this.shipFields.forEach((function(t){t.isHit,e.push(t.isHit)})),!!e.every(Boolean)},e}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,function(e){e.s1="s1",e.s2="s2",e.s3="s3",e.s4="s4",e.s5="s5"}(t.shipTypes||(t.shipTypes={})),function(e){e.D="D",e.R="R"}(t.directionTypes||(t.directionTypes={}))}]);