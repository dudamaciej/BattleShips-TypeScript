!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);n(5),new r.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2),i=n(3),o=n(4),s=function(){function e(){var e=this;this.playerBoard=document.querySelector("#playerBoard"),this.enemyBoard=document.querySelector("#enemyBoard"),this.fleetGarage=document.querySelector("#shipGarage"),this.shipNameInput=document.querySelector("#shipNameInput"),this.foreCoordinatesInput=document.querySelector("#foreCoordinatesInput"),this.directionInput=document.querySelector("#directionInput"),this.setShipsBtn=document.querySelector("#setBtn"),this.scoreValue=document.querySelector(".scoreValue"),this.clearScoreBtn=document.querySelector(".clearBtn"),this.playerShipFleet=[],this.enemyShipFleet=[],this.playerBattleField=[],this.enemyBattleField=[],this.player="player",this.enemy="enemy",this.currentTurn="none",this.gameStatus="preparation",this.setScoreInLocalStroage(),this.playerBoardBin=this.createArrayWithO(),this.createBoard(this.playerBoard,this.playerBattleField,this.player),this.createBoard(this.enemyBoard,this.enemyBattleField,this.enemy),this.setShipsBtn.addEventListener("click",(function(){return e.setShipOnBoard(e.shipNameInput.value,e.foreCoordinatesInput.value,e.directionInput.value,e.playerBattleField,e.playerShipFleet)})),this.enemyBoard.addEventListener("click",(function(){return e.playerShoot(event,e.enemyBattleField,e.enemyShipFleet)})),this.clearScoreBtn.addEventListener("click",(function(){return e.clearScore()}))}return e.prototype.setScoreInLocalStroage=function(){if("undefined"===localStorage.getItem("score"))this.playerScore=0,this.enemyScore=0,this.score=this.playerScore+":"+this.enemyScore,localStorage.setItem("score",this.score),this.scoreValue.innerHTML=this.score;else{var e=localStorage.getItem("score");this.playerScore=parseInt(e.slice(0,1)),this.enemyScore=parseInt(e.slice(2,3)),this.scoreValue.innerHTML=this.playerScore+":"+this.enemyScore}},e.prototype.clearScore=function(){this.playerScore=0,this.enemyScore=0,this.score=this.playerScore+":"+this.enemyScore,this.scoreValue.innerHTML=this.score,localStorage.setItem("score",this.score)},e.prototype.setShipOnBoard=function(e,t,n,r,s){if(s.length<5&&"preparation"==this.gameStatus)if(s.find((function(t){return t.name===e})))console.log(e+" already exist");else if(Object.values(o.shipTypes).includes(e))if(Object.values(o.directionTypes).includes(n)){var a=e,c=a.slice(1,2),l=t,u=l.slice(0,1),p=l.slice(1,2),d=n;if(0===this.playerBoardBin[parseInt(u)][parseInt(p)]){var h=new i.default(u,p,a,d),f=r.find((function(e){return e.id===l}));f.partOfShip(a),h.shipFields.push(f),this.playerBoardBin[parseInt(u)][parseInt(p)]=1;for(var y=1;y<c;y++){if("D"==d){var m=parseInt(u)+y,g=r.find((function(e){return e.id===""+m+p}));this.playerBoardBin[m][parseInt(p)]=1}else if("R"==d){var S=parseInt(p)+y;g=r.find((function(e){return e.id===""+u+S}));this.playerBoardBin[parseInt(u)][S]=1}g.partOfShip(a),h.shipFields.push(g)}this.playerShipFleet.push(h),5==s.length&&(this.setEnemyShips(this.enemyShipFleet,this.enemyBattleField),this.gameStatus="war",this.currentTurn="player"),console.log(e+" - set on field")}else console.log("There is ship")}else console.log("Wrong direction");else console.log(e+" - wrong name")},e.prototype.setEnemyShips=function(e,t){var n=this.randomSetUpEnemyShips();t.forEach((function(r){var o=parseInt(r.id.substring(0,1)),s=parseInt(r.id.substring(1,2));if(1===n[o][s]){var a="",c=e.find((function(e){return"s1"===e.name})),l=t.find((function(e){return e.id===""+o+s}));if(c)l.partOfShip("s1"),c.shipFields.push(l);else{a=1===n[o][s+1]?"R":"D";var u=new i.default(o,s,"s1",a);l.partOfShip("s1"),u.shipFields.push(l),e.push(u)}}else if(2===n[o][s]){a="",c=e.find((function(e){return"s2"===e.name})),l=t.find((function(e){return e.id===""+o+s}));if(c)l.partOfShip("s2"),c.shipFields.push(l);else{a=2===n[o][s+1]?"R":"D";u=new i.default(o,s,"s2",a);l.partOfShip("s2"),u.shipFields.push(l),e.push(u)}}else if(3===n[o][s]){a="",c=e.find((function(e){return"s3"===e.name})),l=t.find((function(e){return e.id===""+o+s}));if(c)l.partOfShip("s3"),c.shipFields.push(l);else{a=3===n[o][s+1]?"R":"D";u=new i.default(o,s,"s3",a);l.partOfShip("s3"),u.shipFields.push(l),e.push(u)}}else if(4===n[o][s]){a="",c=e.find((function(e){return"s4"===e.name})),l=t.find((function(e){return e.id===""+o+s}));if(c)l.partOfShip("s4"),c.shipFields.push(l);else{a=4===n[o][s+1]?"R":"D";u=new i.default(o,s,"s4",a);l.partOfShip("s4"),u.shipFields.push(l),e.push(u)}}else if(5===n[o][s]){a="",c=e.find((function(e){return"s5"===e.name})),l=t.find((function(e){return e.id===""+o+s}));if(c)l.partOfShip("s5"),c.shipFields.push(l);else{a=5===n[o][s+1]?"R":"D";u=new i.default(o,s,"s5",a);l.partOfShip("s5"),u.shipFields.push(l),e.push(u)}}}))},e.prototype.playerShoot=function(e,t,n){if("war"==this.gameStatus&&"player"==this.currentTurn){var r=e.target.id.substring(5,7),i=t.find((function(e){return e.id===r}));if(1==i.isHit)console.log("You shoted this field");else if(i.takeHit(),1==i.isShipPart){var o=n.find((function(e){return e.name===i.partOfWhatShip}));if(console.log("You hit ship"),1==o.isItSunked()){console.log("You destoryed "+o.name),o.isSunked();var s=n.indexOf(o);n.splice(s,1),this.isGameEnd()}}else console.log("You missed"),this.currentTurn="enemy",this.enemyShoot(this.playerShipFleet,this.playerBattleField)}},e.prototype.enemyShoot=function(e,t){if("war"==this.gameStatus)for(var n,r=function(){var r=t[Math.floor(Math.random()*i.playerBattleField.length)];if(1==r.isHit);else if(r.takeHit(),1==r.isShipPart){n=e.find((function(e){return e.name===r.partOfWhatShip})),console.log("Enemy hit your ship");for(var o=function(){var o=["D","R","L","U"][Math.floor(4*Math.random())],s=r.x,a=r.y;switch(o){case"D":9!=r.x&&(s=r.x+1);break;case"R":9!=r.y&&(a=r.y+1);break;case"L":0!=r.y&&(a=r.y-1);break;case"U":0!=r.x&&(s=r.x-1)}var c=t.find((function(e){return e.id===""+s+a}));return c.takeHit(),c=r,1==r.isShipPart?(n=e.find((function(e){return e.name===r.partOfWhatShip})),console.log("Enemy hit ship"),"break"):(console.log("Enemy missed"),i.currentTurn="player","break")};!n.isItSunked()&&"enemy"==i.currentTurn;){if("break"===o())break}if(1==n.isItSunked()){console.log("Enemy destoryed "+n.name),n.isSunked();var s=e.indexOf(n);e.splice(s,1),i.isGameEnd()}}else console.log("Enemy missed"),i.currentTurn="player"},i=this;"enemy"==this.currentTurn;)r()},e.prototype.isGameEnd=function(){"player"==this.currentTurn?0==this.enemyShipFleet.length&&(console.log("PLAYER WON"),this.gameStatus="end",this.playerScore++,this.reloadGame()):"enemy"==this.currentTurn&&0==this.playerShipFleet.length&&(console.log("ENEMY WON"),this.gameStatus="end",this.enemyScore++,this.reloadGame())},e.prototype.reloadGame=function(){this.clearBoard(this.playerBoard),this.clearBoard(this.enemyBoard),this.playerShipFleet=[],this.enemyShipFleet=[],this.playerBattleField=[],this.enemyBattleField=[],this.currentTurn="none",this.gameStatus="preparation",this.playerBoardBin=this.createArrayWithO(),this.createBoard(this.playerBoard,this.playerBattleField,this.player),this.createBoard(this.enemyBoard,this.enemyBattleField,this.enemy),this.score=this.playerScore+":"+this.enemyScore,this.scoreValue.innerHTML=this.score,localStorage.setItem("score",this.score)},e.prototype.clearBoard=function(e){e.querySelectorAll("div").forEach((function(e){return e.remove()}))},e.prototype.createBoard=function(e,t,n){for(var i=0;i<10;i++)for(var o=0;o<10;o++){var s=document.createElement("div"),a=new r.default(i,o,s);s.classList.add("singleField");var c=50*i,l=50*o;s.id=""+n+i+o,s.style.top=c+"px",s.style.left=l+"px",e.appendChild(s),t.push(a)}console.log(t)},e.prototype.createArrayWithO=function(){return[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]},e.prototype.randomSetUpEnemyShips=function(){var e;switch(Math.floor(3*Math.random())+1){case 1:e=[[0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,2,0],[0,3,3,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,5,0,0,4,4,4,4,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0],[0,5,0,0,0,0,0,0,0,0]];break;case 2:e=[[0,0,0,0,2,2,0,0,3,0],[0,0,0,0,0,0,0,0,3,0],[0,0,0,1,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,4,4,4,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,5,5,5,5,5,0,0,0,0]];break;case 3:e=[[0,0,0,0,0,0,0,0,0,0],[0,0,3,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,0,0,0,0],[4,4,4,4,0,5,0,0,0,0],[0,0,0,0,0,5,0,0,0,0],[0,0,0,0,0,5,0,0,2,0],[0,0,0,0,0,5,0,0,2,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0]]}return e},e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t,n){this.x=e,this.y=t,this.isHit=!1,this.isShipPart=!1,this.id=""+e+t,this.body=n,this.partOfWhatShip="none"}return e.prototype.partOfShip=function(e){this.isShipPart=!0,this.body.classList.add("ship"),this.partOfWhatShip=e},e.prototype.takeHit=function(){this.isHit=!0,1==this.isShipPart?(this.body.classList.remove("ship"),this.body.classList.add("hit")):this.body.classList.add("missed")},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t,n,r){this.startX=e,this.startY=t,this.name=n,this.direction=r,this.shipFields=[],this.isSunk=!1}return e.prototype.isSunked=function(){this.isSunk=!0,this.shipFields.forEach((function(e){e.body.classList.add("destroyed")}))},e.prototype.isItSunked=function(){var e=[];return this.shipFields.forEach((function(t){t.isHit,e.push(t.isHit)})),!!e.every(Boolean)},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0,function(e){e.s1="s1",e.s2="s2",e.s3="s3",e.s4="s4",e.s5="s5"}(t.shipTypes||(t.shipTypes={})),function(e){e.D="D",e.R="R"}(t.directionTypes||(t.directionTypes={}))},function(e,t,n){var r=n(6),i=n(7);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var p=a(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(s[p].references++,s[p].updater(d)):s.push({identifier:u,updater:m(d,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,p=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,y=0;function m(e,t){var n,r,i;if(t.singleton){var o=y++;n=f||(f=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=o}}}},function(e,t,n){(t=n(8)(!1)).push([e.i,"body{background-color:#c3d4e6}.container{display:flex;flex-direction:column;align-items:center;justify-content:center}.titleBox{font-weight:bold;text-align:center;font-size:40px}.setUpBox{margin-top:30px;display:flex;flex-direction:column;align-items:center;justify-content:center}.controls input{border:4px solid #0e2b44;padding:5px;margin-right:10px;font-weight:bold;color:#000}.controls input:focus{border:3px solid #f6b93b !important;outline:none}.controls button{color:#000;background:#fff;padding:5px 15px 5px 15px;border:2px solid #0e2b44;transition:all .4s ease 0s;font-weight:bold}.controls button:hover{cursor:pointer;color:#fff;background:#f6b93b;border-color:#f6b93b;transition:all .4s ease 0s;font-weight:bold;padding:5px 20px 5px 20px;outline:none}.boardsContainer{margin-top:70px;display:flex;flex-direction:row;align-items:center;justify-content:center}.gameBox{margin-right:50px}.boxHeader{font-weight:bold;text-align:center;font-size:20px;margin-bottom:15px}.gameBoard{background:#fff;position:relative;width:500px;height:500px;border:5px solid #0e2b44}.singleField{border:1px solid #4487c2;position:absolute;width:50px;height:50px}.singleField:hover{cursor:pointer;background:#f6b93b;border-color:#f6b93b}.missed{background-color:#818181}.hit{background-color:#a81414}.destroyed{background-color:#000}.ship{background-color:#4487c2}.scoreBoard{margin-top:30px;margin-right:30px;padding:20px;border:5px solid #0e2b44;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.scoreValue{font-weight:bold;text-align:center;font-size:30px;margin-bottom:10px}.clearBtn{color:#000;background:#fff;padding:5px 15px 5px 15px;border:2px solid #0e2b44;transition:all .4s ease 0s;font-weight:bold}.clearBtn:hover{cursor:pointer;color:#fff;background:#b3351f;border-color:#b3351f;transition:all .4s ease 0s;font-weight:bold;outline:none}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}}]);